{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Popup}from\"./Popup/Popup\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function AddPlacePopup(_ref){let{isOpen,closePopup,onSubmit}=_ref;const[isFormValid,setIsFormValid]=useState(false);const[url,setUrl]=useState(\"\");const[name,setName]=useState(\"\");const[nameErrorVisible,setNameErrorVisible]=useState(false);const[urlErrorVisible,setUrlErrorVisible]=useState(false);const[nameTouched,setNameTouched]=useState(false);const[urlTouched,setUrlTouched]=useState(false);const urlRegex=/https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/;useEffect(()=>{if(nameTouched||urlTouched){setIsFormValid(urlRegex.test(url)&&name.length>0);setNameErrorVisible(name.length===0);setUrlErrorVisible(url&&!urlRegex.test(url));}},[url,name,nameTouched,urlTouched]);const handleNameChange=e=>{setName(e.target.value);setNameTouched(true);};const handleUrlChange=e=>{setUrl(e.target.value);setUrlTouched(true);};return/*#__PURE__*/_jsx(Popup,{type:\"form-post\",className:\"form\",isOpen:isOpen,closePopup:closePopup,children:/*#__PURE__*/_jsxs(PopupWithForm,{type:\"form-post\",onSubmit:onSubmit,title:\"Nuevo lugar\",buttonTitle:\"Crear\",disabled:!isFormValid,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form-post__name\",type:\"text\",id:\"post-name-input\",name:\"nombre\",placeholder:\"Titulo\",minLength:\"2\",maxLength:\"30\",onChange:handleNameChange,value:name,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error post-name-input-error \".concat(nameErrorVisible?\"form__input-error_active\":\"\"),children:\"Por favor ingrese un nombre v\\xE1lido\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form__input form-post__url\",type:\"url\",id:\"url-input\",name:\"acerca-de\",placeholder:\"URL de la imagen\",onChange:handleUrlChange,value:url,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error url-input-error \".concat(urlErrorVisible?\"form__input-error_active\":\"\"),children:\"Por favor ingrese una URL v\\xE1lida\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","Popup","PopupWithForm","jsx","_jsx","jsxs","_jsxs","AddPlacePopup","_ref","isOpen","closePopup","onSubmit","isFormValid","setIsFormValid","url","setUrl","name","setName","nameErrorVisible","setNameErrorVisible","urlErrorVisible","setUrlErrorVisible","nameTouched","setNameTouched","urlTouched","setUrlTouched","urlRegex","test","length","handleNameChange","e","target","value","handleUrlChange","type","className","children","title","buttonTitle","disabled","id","placeholder","minLength","maxLength","onChange","required","concat"],"sources":["/Users/umiter/Desktop/TripleTen/Sprint 15/web_project_around_auth/src/components/AddPlacePopup.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Popup } from \"./Popup/Popup\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport function AddPlacePopup({ isOpen, closePopup, onSubmit }) {\n  const [isFormValid, setIsFormValid] = useState(false);\n  const [url, setUrl] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [nameErrorVisible, setNameErrorVisible] = useState(false);\n  const [urlErrorVisible, setUrlErrorVisible] = useState(false);\n  const [nameTouched, setNameTouched] = useState(false);\n  const [urlTouched, setUrlTouched] = useState(false);\n\n  const urlRegex =\n    /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/;\n\n  useEffect(() => {\n    if (nameTouched || urlTouched) {\n      setIsFormValid(urlRegex.test(url) && name.length > 0);\n      setNameErrorVisible(name.length === 0);\n      setUrlErrorVisible(url && !urlRegex.test(url));\n    }\n  }, [url, name, nameTouched, urlTouched]);\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n    setNameTouched(true);\n  };\n\n  const handleUrlChange = (e) => {\n    setUrl(e.target.value);\n    setUrlTouched(true);\n  };\n\n  return (\n    <Popup\n      type=\"form-post\"\n      className=\"form\"\n      isOpen={isOpen}\n      closePopup={closePopup}\n    >\n      <PopupWithForm\n        type=\"form-post\"\n        onSubmit={onSubmit}\n        title=\"Nuevo lugar\"\n        buttonTitle=\"Crear\"\n        disabled={!isFormValid}\n      >\n        <input\n          className=\"form__input form-post__name\"\n          type=\"text\"\n          id=\"post-name-input\"\n          name=\"nombre\"\n          placeholder=\"Titulo\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          onChange={handleNameChange}\n          value={name}\n          required\n        />\n        <span\n          className={`form__input-error post-name-input-error ${\n            nameErrorVisible ? \"form__input-error_active\" : \"\"\n          }`}\n        >\n          Por favor ingrese un nombre válido\n        </span>\n        <input\n          className=\"form__input form-post__url\"\n          type=\"url\"\n          id=\"url-input\"\n          name=\"acerca-de\"\n          placeholder=\"URL de la imagen\"\n          onChange={handleUrlChange}\n          value={url}\n          required\n        />\n        <span\n          className={`form__input-error url-input-error ${\n            urlErrorVisible ? \"form__input-error_active\" : \"\"\n          }`}\n        >\n          Por favor ingrese una URL válida\n        </span>\n      </PopupWithForm>\n    </Popup>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}