{"ast":null,"code":"export const formConfig={formSelector:\".form\",inputSelector:\".form__input\",submitButtonSelector:\".form__submit\",inactiveButtonClass:\"form__submit_inactive\",inputErrorClass:\"form__input_type_error\",errorClass:\"form__input-error_active\"};export class FormValidator{constructor(config,formElement){this._config=config;this._formElement=formElement;}_showInputError(inputElement,errorMessage){const errorElement=this[\"_errorElement-\"+inputElement.id];inputElement.classList.add(this._config.inputErrorClass);errorElement.textContent=errorMessage;errorElement.classList.add(this._config.errorClass);}_hideInputError(inputElement){const errorElement=this[\"_errorElement-\"+inputElement.id];inputElement.classList.remove(this._config.inputErrorClass);errorElement.classList.remove(this._config.errorClass);errorElement.textContent=\"\";}_checkInputValidity(inputElement){if(!inputElement.validity.valid){this._showInputError(inputElement,inputElement.validationMessage);}else{this._hideInputError(inputElement);}}_hasInvalidInput(inputList){return inputList.some(inputElement=>{return!inputElement.validity.valid;});}_toggleButtonState(inputList,buttonElement){if(this._hasInvalidInput(inputList)){buttonElement.classList.add(this._config.inactiveButtonClass);buttonElement.disabled=true;}else{buttonElement.classList.remove(this._config.inactiveButtonClass);buttonElement.disabled=false;}}_setEventListeners(){const inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector));const buttonElement=this._formElement.querySelector(this._config.submitButtonSelector);inputList.forEach(inputElement=>{this[\"_errorElement-\"+inputElement.id]=this._formElement.querySelector(\".\".concat(inputElement.id,\"-error\"));inputElement.addEventListener(\"input\",()=>{this._checkInputValidity(inputElement);this._toggleButtonState(inputList,buttonElement);});});}enableValidation(){this._formElement.addEventListener(\"submit\",evt=>{evt.preventDefault();});this._setEventListeners();}}","map":{"version":3,"names":["formConfig","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","FormValidator","constructor","config","formElement","_config","_formElement","_showInputError","inputElement","errorMessage","errorElement","id","classList","add","textContent","_hideInputError","remove","_checkInputValidity","validity","valid","validationMessage","_hasInvalidInput","inputList","some","_toggleButtonState","buttonElement","disabled","_setEventListeners","Array","from","querySelectorAll","querySelector","forEach","concat","addEventListener","enableValidation","evt","preventDefault"],"sources":["/Users/umiter/Desktop/TripleTen/Sprint 15/web_project_around_auth/src/utils/FormValidator.js"],"sourcesContent":["export const formConfig = {\n  formSelector: \".form\",\n  inputSelector: \".form__input\",\n  submitButtonSelector: \".form__submit\",\n  inactiveButtonClass: \"form__submit_inactive\",\n  inputErrorClass: \"form__input_type_error\",\n  errorClass: \"form__input-error_active\",\n};\n\nexport class FormValidator {\n  constructor(config, formElement) {\n    this._config = config;\n    this._formElement = formElement;\n  }\n\n  _showInputError(inputElement, errorMessage) {\n    const errorElement = this[\"_errorElement-\" + inputElement.id];\n    inputElement.classList.add(this._config.inputErrorClass);\n    errorElement.textContent = errorMessage;\n    errorElement.classList.add(this._config.errorClass);\n  }\n\n  _hideInputError(inputElement) {\n    const errorElement = this[\"_errorElement-\" + inputElement.id];\n    inputElement.classList.remove(this._config.inputErrorClass);\n    errorElement.classList.remove(this._config.errorClass);\n    errorElement.textContent = \"\";\n  }\n\n  _checkInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      this._showInputError(inputElement, inputElement.validationMessage);\n    } else {\n      this._hideInputError(inputElement);\n    }\n  }\n\n  _hasInvalidInput(inputList) {\n    return inputList.some((inputElement) => {\n      return !inputElement.validity.valid;\n    });\n  }\n\n  _toggleButtonState(inputList, buttonElement) {\n    if (this._hasInvalidInput(inputList)) {\n      buttonElement.classList.add(this._config.inactiveButtonClass);\n      buttonElement.disabled = true;\n    } else {\n      buttonElement.classList.remove(this._config.inactiveButtonClass);\n      buttonElement.disabled = false;\n    }\n  }\n\n  _setEventListeners() {\n    const inputList = Array.from(\n      this._formElement.querySelectorAll(this._config.inputSelector)\n    );\n    const buttonElement = this._formElement.querySelector(\n      this._config.submitButtonSelector\n    );\n\n    inputList.forEach((inputElement) => {\n      this[\"_errorElement-\" + inputElement.id] =\n        this._formElement.querySelector(`.${inputElement.id}-error`);\n      inputElement.addEventListener(\"input\", () => {\n        this._checkInputValidity(inputElement);\n        this._toggleButtonState(inputList, buttonElement);\n      });\n    });\n  }\n\n  enableValidation() {\n    this._formElement.addEventListener(\"submit\", (evt) => {\n      evt.preventDefault();\n    });\n\n    this._setEventListeners();\n  }\n}\n"],"mappings":"AAAA,MAAO,MAAM,CAAAA,UAAU,CAAG,CACxBC,YAAY,CAAE,OAAO,CACrBC,aAAa,CAAE,cAAc,CAC7BC,oBAAoB,CAAE,eAAe,CACrCC,mBAAmB,CAAE,uBAAuB,CAC5CC,eAAe,CAAE,wBAAwB,CACzCC,UAAU,CAAE,0BACd,CAAC,CAED,MAAO,MAAM,CAAAC,aAAc,CACzBC,WAAWA,CAACC,MAAM,CAAEC,WAAW,CAAE,CAC/B,IAAI,CAACC,OAAO,CAAGF,MAAM,CACrB,IAAI,CAACG,YAAY,CAAGF,WAAW,CACjC,CAEAG,eAAeA,CAACC,YAAY,CAAEC,YAAY,CAAE,CAC1C,KAAM,CAAAC,YAAY,CAAG,IAAI,CAAC,gBAAgB,CAAGF,YAAY,CAACG,EAAE,CAAC,CAC7DH,YAAY,CAACI,SAAS,CAACC,GAAG,CAAC,IAAI,CAACR,OAAO,CAACN,eAAe,CAAC,CACxDW,YAAY,CAACI,WAAW,CAAGL,YAAY,CACvCC,YAAY,CAACE,SAAS,CAACC,GAAG,CAAC,IAAI,CAACR,OAAO,CAACL,UAAU,CAAC,CACrD,CAEAe,eAAeA,CAACP,YAAY,CAAE,CAC5B,KAAM,CAAAE,YAAY,CAAG,IAAI,CAAC,gBAAgB,CAAGF,YAAY,CAACG,EAAE,CAAC,CAC7DH,YAAY,CAACI,SAAS,CAACI,MAAM,CAAC,IAAI,CAACX,OAAO,CAACN,eAAe,CAAC,CAC3DW,YAAY,CAACE,SAAS,CAACI,MAAM,CAAC,IAAI,CAACX,OAAO,CAACL,UAAU,CAAC,CACtDU,YAAY,CAACI,WAAW,CAAG,EAAE,CAC/B,CAEAG,mBAAmBA,CAACT,YAAY,CAAE,CAChC,GAAI,CAACA,YAAY,CAACU,QAAQ,CAACC,KAAK,CAAE,CAChC,IAAI,CAACZ,eAAe,CAACC,YAAY,CAAEA,YAAY,CAACY,iBAAiB,CAAC,CACpE,CAAC,IAAM,CACL,IAAI,CAACL,eAAe,CAACP,YAAY,CAAC,CACpC,CACF,CAEAa,gBAAgBA,CAACC,SAAS,CAAE,CAC1B,MAAO,CAAAA,SAAS,CAACC,IAAI,CAAEf,YAAY,EAAK,CACtC,MAAO,CAACA,YAAY,CAACU,QAAQ,CAACC,KAAK,CACrC,CAAC,CAAC,CACJ,CAEAK,kBAAkBA,CAACF,SAAS,CAAEG,aAAa,CAAE,CAC3C,GAAI,IAAI,CAACJ,gBAAgB,CAACC,SAAS,CAAC,CAAE,CACpCG,aAAa,CAACb,SAAS,CAACC,GAAG,CAAC,IAAI,CAACR,OAAO,CAACP,mBAAmB,CAAC,CAC7D2B,aAAa,CAACC,QAAQ,CAAG,IAAI,CAC/B,CAAC,IAAM,CACLD,aAAa,CAACb,SAAS,CAACI,MAAM,CAAC,IAAI,CAACX,OAAO,CAACP,mBAAmB,CAAC,CAChE2B,aAAa,CAACC,QAAQ,CAAG,KAAK,CAChC,CACF,CAEAC,kBAAkBA,CAAA,CAAG,CACnB,KAAM,CAAAL,SAAS,CAAGM,KAAK,CAACC,IAAI,CAC1B,IAAI,CAACvB,YAAY,CAACwB,gBAAgB,CAAC,IAAI,CAACzB,OAAO,CAACT,aAAa,CAC/D,CAAC,CACD,KAAM,CAAA6B,aAAa,CAAG,IAAI,CAACnB,YAAY,CAACyB,aAAa,CACnD,IAAI,CAAC1B,OAAO,CAACR,oBACf,CAAC,CAEDyB,SAAS,CAACU,OAAO,CAAExB,YAAY,EAAK,CAClC,IAAI,CAAC,gBAAgB,CAAGA,YAAY,CAACG,EAAE,CAAC,CACtC,IAAI,CAACL,YAAY,CAACyB,aAAa,KAAAE,MAAA,CAAKzB,YAAY,CAACG,EAAE,UAAQ,CAAC,CAC9DH,YAAY,CAAC0B,gBAAgB,CAAC,OAAO,CAAE,IAAM,CAC3C,IAAI,CAACjB,mBAAmB,CAACT,YAAY,CAAC,CACtC,IAAI,CAACgB,kBAAkB,CAACF,SAAS,CAAEG,aAAa,CAAC,CACnD,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAEAU,gBAAgBA,CAAA,CAAG,CACjB,IAAI,CAAC7B,YAAY,CAAC4B,gBAAgB,CAAC,QAAQ,CAAGE,GAAG,EAAK,CACpDA,GAAG,CAACC,cAAc,CAAC,CAAC,CACtB,CAAC,CAAC,CAEF,IAAI,CAACV,kBAAkB,CAAC,CAAC,CAC3B,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}