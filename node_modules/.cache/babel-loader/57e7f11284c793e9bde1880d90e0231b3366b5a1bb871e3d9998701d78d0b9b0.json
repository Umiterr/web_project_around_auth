{"ast":null,"code":"class Api{constructor(_ref){let{baseUrl,groupId}=_ref;this.baseUrl=baseUrl;this.groupId=groupId;}async _fetchApi(method){let path=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";let body=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;const response=await fetch(\"\".concat(this.baseUrl,\"/\").concat(this.groupId,\"/\").concat(path),{method,headers:{authorization:\"9731b001-57b1-4a17-816b-941eccd0a24a\",\"Content-Type\":body?\"application/json\":undefined},body:body?JSON.stringify(body):undefined});if(!response.ok){return Promise.reject(\"Error: \".concat(response.status));}const json=await response.json();return json;}getInitialCards(){return this._fetchApi(\"GET\",\"/cards\");}getUserInfo(){return this._fetchApi(\"GET\",\"users/me\");}setUserInfo(_ref2){let{name,about}=_ref2;return this._fetchApi(\"PATCH\",\"users/me\",{name,about});}setUserImage(imageURL){return this._fetchApi(\"PATCH\",\"users/me/avatar\",{avatar:imageURL});}setNewCard(_ref3){let{title,imageURL}=_ref3;return this._fetchApi(\"POST\",\"cards\",{name:title,link:imageURL});}deleteCard(cardId){return this._fetchApi(\"DELETE\",\"cards/\".concat(cardId));}setLike(cardId){return this._fetchApi(\"PUT\",\"cards/likes/\".concat(cardId));}removeLike(cardId){return this._fetchApi(\"DELETE\",\"cards/likes/\".concat(cardId));}}const api=new Api({groupId:\"web_es_09\",baseUrl:\"https://around.nomoreparties.co/v1\"});export default api;","map":{"version":3,"names":["Api","constructor","_ref","baseUrl","groupId","_fetchApi","method","path","arguments","length","undefined","body","response","fetch","concat","headers","authorization","JSON","stringify","ok","Promise","reject","status","json","getInitialCards","getUserInfo","setUserInfo","_ref2","name","about","setUserImage","imageURL","avatar","setNewCard","_ref3","title","link","deleteCard","cardId","setLike","removeLike","api"],"sources":["/Users/umiter/Desktop/TripleTen/Sprint 15/web_project_around_auth/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, groupId }) {\n    this.baseUrl = baseUrl;\n    this.groupId = groupId;\n  }\n\n  async _fetchApi(method, path = \"\", body = undefined) {\n    const response = await fetch(`${this.baseUrl}/${this.groupId}/${path}`, {\n      method,\n      headers: {\n        authorization: `9731b001-57b1-4a17-816b-941eccd0a24a`,\n        \"Content-Type\": body ? \"application/json\" : undefined,\n      },\n      body: body ? JSON.stringify(body) : undefined,\n    });\n    if (!response.ok) {\n      return Promise.reject(`Error: ${response.status}`);\n    }\n    const json = await response.json();\n    return json;\n  }\n\n  getInitialCards() {\n    return this._fetchApi(\"GET\", \"/cards\");\n  }\n\n  getUserInfo() {\n    return this._fetchApi(\"GET\", \"users/me\");\n  }\n\n  setUserInfo({ name, about }) {\n    return this._fetchApi(\"PATCH\", \"users/me\", { name, about });\n  }\n\n  setUserImage(imageURL) {\n    return this._fetchApi(\"PATCH\", \"users/me/avatar\", { avatar: imageURL });\n  }\n\n  setNewCard({ title, imageURL }) {\n    return this._fetchApi(\"POST\", \"cards\", {\n      name: title,\n      link: imageURL,\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._fetchApi(\"DELETE\", `cards/${cardId}`);\n  }\n\n  setLike(cardId) {\n    return this._fetchApi(\"PUT\", `cards/likes/${cardId}`);\n  }\n\n  removeLike(cardId) {\n    return this._fetchApi(\"DELETE\", `cards/likes/${cardId}`);\n  }\n}\n\nconst api = new Api({\n  groupId: \"web_es_09\",\n  baseUrl: \"https://around.nomoreparties.co/v1\",\n});\n\nexport default api;\n"],"mappings":"AAAA,KAAM,CAAAA,GAAI,CACRC,WAAWA,CAAAC,IAAA,CAAuB,IAAtB,CAAEC,OAAO,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAC9B,IAAI,CAACC,OAAO,CAAGA,OAAO,CACtB,IAAI,CAACC,OAAO,CAAGA,OAAO,CACxB,CAEA,KAAM,CAAAC,SAASA,CAACC,MAAM,CAA+B,IAA7B,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IAAE,CAAAG,IAAI,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGE,SAAS,CACjD,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACX,OAAO,MAAAW,MAAA,CAAI,IAAI,CAACV,OAAO,MAAAU,MAAA,CAAIP,IAAI,EAAI,CACtED,MAAM,CACNS,OAAO,CAAE,CACPC,aAAa,uCAAwC,CACrD,cAAc,CAAEL,IAAI,CAAG,kBAAkB,CAAGD,SAC9C,CAAC,CACDC,IAAI,CAAEA,IAAI,CAAGM,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC,CAAGD,SACtC,CAAC,CAAC,CACF,GAAI,CAACE,QAAQ,CAACO,EAAE,CAAE,CAChB,MAAO,CAAAC,OAAO,CAACC,MAAM,WAAAP,MAAA,CAAWF,QAAQ,CAACU,MAAM,CAAE,CAAC,CACpD,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAX,QAAQ,CAACW,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAA,IAAI,CACb,CAEAC,eAAeA,CAAA,CAAG,CAChB,MAAO,KAAI,CAACnB,SAAS,CAAC,KAAK,CAAE,QAAQ,CAAC,CACxC,CAEAoB,WAAWA,CAAA,CAAG,CACZ,MAAO,KAAI,CAACpB,SAAS,CAAC,KAAK,CAAE,UAAU,CAAC,CAC1C,CAEAqB,WAAWA,CAAAC,KAAA,CAAkB,IAAjB,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAAF,KAAA,CACzB,MAAO,KAAI,CAACtB,SAAS,CAAC,OAAO,CAAE,UAAU,CAAE,CAAEuB,IAAI,CAAEC,KAAM,CAAC,CAAC,CAC7D,CAEAC,YAAYA,CAACC,QAAQ,CAAE,CACrB,MAAO,KAAI,CAAC1B,SAAS,CAAC,OAAO,CAAE,iBAAiB,CAAE,CAAE2B,MAAM,CAAED,QAAS,CAAC,CAAC,CACzE,CAEAE,UAAUA,CAAAC,KAAA,CAAsB,IAArB,CAAEC,KAAK,CAAEJ,QAAS,CAAC,CAAAG,KAAA,CAC5B,MAAO,KAAI,CAAC7B,SAAS,CAAC,MAAM,CAAE,OAAO,CAAE,CACrCuB,IAAI,CAAEO,KAAK,CACXC,IAAI,CAAEL,QACR,CAAC,CAAC,CACJ,CAEAM,UAAUA,CAACC,MAAM,CAAE,CACjB,MAAO,KAAI,CAACjC,SAAS,CAAC,QAAQ,UAAAS,MAAA,CAAWwB,MAAM,CAAE,CAAC,CACpD,CAEAC,OAAOA,CAACD,MAAM,CAAE,CACd,MAAO,KAAI,CAACjC,SAAS,CAAC,KAAK,gBAAAS,MAAA,CAAiBwB,MAAM,CAAE,CAAC,CACvD,CAEAE,UAAUA,CAACF,MAAM,CAAE,CACjB,MAAO,KAAI,CAACjC,SAAS,CAAC,QAAQ,gBAAAS,MAAA,CAAiBwB,MAAM,CAAE,CAAC,CAC1D,CACF,CAEA,KAAM,CAAAG,GAAG,CAAG,GAAI,CAAAzC,GAAG,CAAC,CAClBI,OAAO,CAAE,WAAW,CACpBD,OAAO,CAAE,oCACX,CAAC,CAAC,CAEF,cAAe,CAAAsC,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}