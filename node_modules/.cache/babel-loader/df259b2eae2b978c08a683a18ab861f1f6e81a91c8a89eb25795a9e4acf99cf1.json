{"ast":null,"code":"var _jsxFileName = \"/Users/umiter/Desktop/TripleTen/Sprint 15/web_project_around_auth/src/components/EditAvatarPopup.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Popup } from \"./Popup/Popup\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function EditAvatarPopup({\n  isOpen,\n  closePopup,\n  onSubmit\n}) {\n  _s();\n  const imageInput = useRef();\n  const [isFormValid, setIsFormValid] = useState(false);\n  const [url, setUrl] = useState(\"\");\n  const [urlErrorVisible, setUrlErrorVisible] = useState(false);\n  const [urlTouched, setUrlTouched] = useState(false);\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(imageInput === null || imageInput === void 0 ? void 0 : imageInput.current.value);\n  };\n  const urlRegex = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/;\n  useEffect(() => {\n    if (urlTouched) {\n      setIsFormValid(urlRegex.test(url) && url.length > 0); // Fixed 'name' to 'url'\n      setUrlErrorVisible(urlTouched && !urlRegex.test(url)); // Removed url && from condition\n    }\n  }, [url, urlTouched]);\n  const handleUrlChange = e => {\n    setUrl(e.target.value);\n    setUrlTouched(true);\n  };\n  return /*#__PURE__*/_jsxDEV(Popup, {\n    type: \"form-image-profile\",\n    className: \"form\",\n    isOpen: isOpen,\n    closePopup: closePopup,\n    children: /*#__PURE__*/_jsxDEV(PopupWithForm, {\n      type: \"form-image-profile\",\n      onSubmit: handleSubmit,\n      title: \"\\xBFCambiar foto de perfil\",\n      buttonTitle: \"Guardar\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form__input form-image-profile__url\",\n        type: \"url\",\n        id: \"url-profile-image-input\",\n        name: \"profileImageUrl\",\n        placeholder: \"URL de la imagen\",\n        onChange: handleUrlChange // Fixed function name from handleNameChange to handleUrlChange\n        ,\n        required: true,\n        ref: imageInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `form__input-error url-profile-image-input-error ${urlErrorVisible ? \"form__input-error_active\" : \"\"}`,\n        children: \"ingrese una URL v\\xE1lida\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(EditAvatarPopup, \"KL52EpthTc+jIVDDlmYZ/G2eDp4=\");\n_c = EditAvatarPopup;\nvar _c;\n$RefreshReg$(_c, \"EditAvatarPopup\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Popup","PopupWithForm","jsxDEV","_jsxDEV","EditAvatarPopup","isOpen","closePopup","onSubmit","_s","imageInput","isFormValid","setIsFormValid","url","setUrl","urlErrorVisible","setUrlErrorVisible","urlTouched","setUrlTouched","handleSubmit","e","preventDefault","current","value","urlRegex","test","length","handleUrlChange","target","type","className","children","title","buttonTitle","id","name","placeholder","onChange","required","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/umiter/Desktop/TripleTen/Sprint 15/web_project_around_auth/src/components/EditAvatarPopup.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Popup } from \"./Popup/Popup\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport function EditAvatarPopup({ isOpen, closePopup, onSubmit }) {\n  const imageInput = useRef();\n  const [isFormValid, setIsFormValid] = useState(false);\n  const [url, setUrl] = useState(\"\");\n  const [urlErrorVisible, setUrlErrorVisible] = useState(false);\n  const [urlTouched, setUrlTouched] = useState(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(imageInput?.current.value);\n  };\n\n  const urlRegex =\n    /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/;\n\n  useEffect(() => {\n    if (urlTouched) {\n      setIsFormValid(urlRegex.test(url) && url.length > 0); // Fixed 'name' to 'url'\n      setUrlErrorVisible(urlTouched && !urlRegex.test(url)); // Removed url && from condition\n    }\n  }, [url, urlTouched]);\n\n  const handleUrlChange = (e) => {\n    setUrl(e.target.value);\n    setUrlTouched(true);\n  };\n\n  return (\n    <Popup\n      type=\"form-image-profile\"\n      className=\"form\"\n      isOpen={isOpen}\n      closePopup={closePopup}\n    >\n      <PopupWithForm\n        type=\"form-image-profile\"\n        onSubmit={handleSubmit}\n        title=\"¿Cambiar foto de perfil\"\n        buttonTitle=\"Guardar\"\n      >\n        <input\n          className=\"form__input form-image-profile__url\"\n          type=\"url\"\n          id=\"url-profile-image-input\"\n          name=\"profileImageUrl\"\n          placeholder=\"URL de la imagen\"\n          onChange={handleUrlChange} // Fixed function name from handleNameChange to handleUrlChange\n          required\n          ref={imageInput}\n        />\n        <span\n          className={`form__input-error url-profile-image-input-error ${\n            urlErrorVisible ? \"form__input-error_active\" : \"\"\n          }`}\n        >\n          ingrese una URL válida\n        </span>\n      </PopupWithForm>\n    </Popup>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,KAAK,QAAQ,eAAe;AACrC,OAAOC,aAAa,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,OAAO,SAASC,eAAeA,CAAC;EAAEC,MAAM;EAAEC,UAAU;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAChE,MAAMC,UAAU,GAAGV,MAAM,CAAC,CAAC;EAC3B,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACe,GAAG,EAAEC,MAAM,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACiB,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAMqB,YAAY,GAAIC,CAAC,IAAK;IAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBb,QAAQ,CAACE,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEY,OAAO,CAACC,KAAK,CAAC;EACrC,CAAC;EAED,MAAMC,QAAQ,GACZ,uGAAuG;EAEzGzB,SAAS,CAAC,MAAM;IACd,IAAIkB,UAAU,EAAE;MACdL,cAAc,CAACY,QAAQ,CAACC,IAAI,CAACZ,GAAG,CAAC,IAAIA,GAAG,CAACa,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;MACtDV,kBAAkB,CAACC,UAAU,IAAI,CAACO,QAAQ,CAACC,IAAI,CAACZ,GAAG,CAAC,CAAC,CAAC,CAAC;IACzD;EACF,CAAC,EAAE,CAACA,GAAG,EAAEI,UAAU,CAAC,CAAC;EAErB,MAAMU,eAAe,GAAIP,CAAC,IAAK;IAC7BN,MAAM,CAACM,CAAC,CAACQ,MAAM,CAACL,KAAK,CAAC;IACtBL,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,oBACEd,OAAA,CAACH,KAAK;IACJ4B,IAAI,EAAC,oBAAoB;IACzBC,SAAS,EAAC,MAAM;IAChBxB,MAAM,EAAEA,MAAO;IACfC,UAAU,EAAEA,UAAW;IAAAwB,QAAA,eAEvB3B,OAAA,CAACF,aAAa;MACZ2B,IAAI,EAAC,oBAAoB;MACzBrB,QAAQ,EAAEW,YAAa;MACvBa,KAAK,EAAC,4BAAyB;MAC/BC,WAAW,EAAC,SAAS;MAAAF,QAAA,gBAErB3B,OAAA;QACE0B,SAAS,EAAC,qCAAqC;QAC/CD,IAAI,EAAC,KAAK;QACVK,EAAE,EAAC,yBAAyB;QAC5BC,IAAI,EAAC,iBAAiB;QACtBC,WAAW,EAAC,kBAAkB;QAC9BC,QAAQ,EAAEV,eAAgB,CAAC;QAAA;QAC3BW,QAAQ;QACRC,GAAG,EAAE7B;MAAW;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjB,CAAC,eACFvC,OAAA;QACE0B,SAAS,EAAG,mDACVf,eAAe,GAAG,0BAA0B,GAAG,EAChD,EAAE;QAAAgB,QAAA,EACJ;MAED;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACM;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACX,CAAC;AAEZ;AAAClC,EAAA,CA5DeJ,eAAe;AAAAuC,EAAA,GAAfvC,eAAe;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}