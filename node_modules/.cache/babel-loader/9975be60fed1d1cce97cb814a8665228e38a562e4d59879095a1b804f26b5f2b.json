{"ast":null,"code":"import addIcon from\"../images/UI/Add-Button.svg\";import{useContext}from\"react\";import{Card}from\"./Card\";import api from\"../utils/api\";import{Profile}from\"./Profile/Profile\";import{ImagePopup}from\"./ImagePopup\";import{PopupConfirm}from\"./PopupConfirm\";import{AddPlacePopup}from\"./AddPlacePopup\";import{EditAvatarPopup}from\"./EditAvatarPopup\";import{EditProfilePopup}from\"./EditProfilePopup\";import CurrentUserContext from\"../contexts/CurrentUserContext\";import{FormValidator}from\"../utils/FormValidator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Main(props){const{user,cards,isImagePopupOpen,isPopupConfirmOpen,selectedCard,isAddPlacePopupOpen,isEditProfilePopupOpen,isEditAvatarPopupOpen,closeImagePopup,closePopupConfirm,onAddCard,onEditAvatarClick,onEditProfileClick,deleteSelectedCard,handleUpdateUser,handleUpdateAvatar,setCards,setSelectedCard,setIsImagePopupOpen,setIsPopupConfirmOpen,setIsAddPlacePopupOpen,setIsEditProfilePopupOpen,setIsEditAvatarPopupOpen}=props;const currentUser=useContext(CurrentUserContext);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(Profile,{onEditAvatar:onEditAvatarClick,onEditProfile:onEditProfileClick}),/*#__PURE__*/_jsx(\"button\",{className:\"card__add-button\",onClick:onAddCard,children:/*#__PURE__*/_jsx(\"img\",{id:\"card__add-button\",alt:\"Boton de a\\xF1adir tarjeta\",src:addIcon})})]}),/*#__PURE__*/_jsx(\"section\",{className:\"feed\",children:cards.map(card=>/*#__PURE__*/_jsx(Card,{card:card,onCardClicked:()=>{setSelectedCard(card);setIsImagePopupOpen(true);},openPopupConfirm:cardId=>{setSelectedCard(cards.find(card=>card._id===cardId));setIsPopupConfirmOpen(true);}},card._id))}),/*#__PURE__*/_jsx(EditProfilePopup,{onUpdateUser:handleUpdateUser,isOpen:isEditProfilePopupOpen,closePopup:()=>{setIsEditProfilePopupOpen(false);},name:user?user.name:\"\",about:user?user.about:\"\"}),/*#__PURE__*/_jsx(EditAvatarPopup,{onSubmit:handleUpdateAvatar,isOpen:isEditAvatarPopupOpen,closePopup:()=>{setIsEditAvatarPopupOpen(false);}}),/*#__PURE__*/_jsx(AddPlacePopup,{onSubmit:async e=>{e.preventDefault();const title=e.target[0].value;const imageURL=e.target[1].value;const newCard=await api.setNewCard({title,imageURL});setCards([newCard,...cards]);setIsAddPlacePopupOpen(false);},isOpen:isAddPlacePopupOpen,closePopup:()=>{setIsAddPlacePopupOpen(false);}}),/*#__PURE__*/_jsx(PopupConfirm,{deleteSelectedCard:deleteSelectedCard,isOpen:isPopupConfirmOpen,closePopup:closePopupConfirm}),/*#__PURE__*/_jsx(ImagePopup,{title:selectedCard?selectedCard.name:\"\",imageUrl:selectedCard?selectedCard.link:\"\",isOpen:isImagePopupOpen,closePopup:closeImagePopup})]});}","map":{"version":3,"names":["addIcon","useContext","Card","api","Profile","ImagePopup","PopupConfirm","AddPlacePopup","EditAvatarPopup","EditProfilePopup","CurrentUserContext","FormValidator","jsx","_jsx","jsxs","_jsxs","Main","props","user","cards","isImagePopupOpen","isPopupConfirmOpen","selectedCard","isAddPlacePopupOpen","isEditProfilePopupOpen","isEditAvatarPopupOpen","closeImagePopup","closePopupConfirm","onAddCard","onEditAvatarClick","onEditProfileClick","deleteSelectedCard","handleUpdateUser","handleUpdateAvatar","setCards","setSelectedCard","setIsImagePopupOpen","setIsPopupConfirmOpen","setIsAddPlacePopupOpen","setIsEditProfilePopupOpen","setIsEditAvatarPopupOpen","currentUser","className","children","onEditAvatar","onEditProfile","onClick","id","alt","src","map","card","onCardClicked","openPopupConfirm","cardId","find","_id","onUpdateUser","isOpen","closePopup","name","about","onSubmit","e","preventDefault","title","target","value","imageURL","newCard","setNewCard","imageUrl","link"],"sources":["/Users/umiter/Desktop/TripleTen/Sprint 15/web_project_around_auth/src/components/Main.js"],"sourcesContent":["import addIcon from \"../images/UI/Add-Button.svg\";\r\nimport { useContext } from \"react\";\r\nimport { Card } from \"./Card\";\r\nimport api from \"../utils/api\";\r\nimport { Profile } from \"./Profile/Profile\";\r\nimport { ImagePopup } from \"./ImagePopup\";\r\nimport { PopupConfirm } from \"./PopupConfirm\";\r\nimport { AddPlacePopup } from \"./AddPlacePopup\";\r\nimport { EditAvatarPopup } from \"./EditAvatarPopup\";\r\nimport { EditProfilePopup } from \"./EditProfilePopup\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport { FormValidator } from \"../utils/FormValidator\";\r\n\r\nexport function Main(props) {\r\n  const {\r\n    user,\r\n    cards,\r\n    isImagePopupOpen,\r\n    isPopupConfirmOpen,\r\n    selectedCard,\r\n    isAddPlacePopupOpen,\r\n    isEditProfilePopupOpen,\r\n    isEditAvatarPopupOpen,\r\n    closeImagePopup,\r\n    closePopupConfirm,\r\n    onAddCard,\r\n    onEditAvatarClick,\r\n    onEditProfileClick,\r\n    deleteSelectedCard,\r\n    handleUpdateUser,\r\n    handleUpdateAvatar,\r\n    setCards,\r\n    setSelectedCard,\r\n    setIsImagePopupOpen,\r\n    setIsPopupConfirmOpen,\r\n    setIsAddPlacePopupOpen,\r\n    setIsEditProfilePopupOpen,\r\n    setIsEditAvatarPopupOpen,\r\n  } = props;\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"dashboard\">\r\n        <Profile\r\n          onEditAvatar={onEditAvatarClick}\r\n          onEditProfile={onEditProfileClick}\r\n        />\r\n\r\n        <button className=\"card__add-button\" onClick={onAddCard}>\r\n          <img\r\n            id=\"card__add-button\"\r\n            alt=\"Boton de aÃ±adir tarjeta\"\r\n            src={addIcon}\r\n          />\r\n        </button>\r\n      </section>\r\n\r\n      <section className=\"feed\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClicked={() => {\r\n              setSelectedCard(card);\r\n              setIsImagePopupOpen(true);\r\n            }}\r\n            openPopupConfirm={(cardId) => {\r\n              setSelectedCard(cards.find((card) => card._id === cardId));\r\n              setIsPopupConfirmOpen(true);\r\n            }}\r\n          />\r\n        ))}\r\n      </section>\r\n      <EditProfilePopup\r\n        onUpdateUser={handleUpdateUser}\r\n        isOpen={isEditProfilePopupOpen}\r\n        closePopup={() => {\r\n          setIsEditProfilePopupOpen(false);\r\n        }}\r\n        name={user ? user.name : \"\"}\r\n        about={user ? user.about : \"\"}\r\n      />\r\n\r\n      <EditAvatarPopup\r\n        onSubmit={handleUpdateAvatar}\r\n        isOpen={isEditAvatarPopupOpen}\r\n        closePopup={() => {\r\n          setIsEditAvatarPopupOpen(false);\r\n        }}\r\n      />\r\n\r\n      <AddPlacePopup\r\n        onSubmit={async (e) => {\r\n          e.preventDefault();\r\n          const title = e.target[0].value;\r\n          const imageURL = e.target[1].value;\r\n\r\n          const newCard = await api.setNewCard({\r\n            title,\r\n            imageURL,\r\n          });\r\n          setCards([newCard, ...cards]);\r\n          setIsAddPlacePopupOpen(false);\r\n        }}\r\n        isOpen={isAddPlacePopupOpen}\r\n        closePopup={() => {\r\n          setIsAddPlacePopupOpen(false);\r\n        }}\r\n      />\r\n\r\n      <PopupConfirm\r\n        deleteSelectedCard={deleteSelectedCard}\r\n        isOpen={isPopupConfirmOpen}\r\n        closePopup={closePopupConfirm}\r\n      />\r\n      <ImagePopup\r\n        title={selectedCard ? selectedCard.name : \"\"}\r\n        imageUrl={selectedCard ? selectedCard.link : \"\"}\r\n        isOpen={isImagePopupOpen}\r\n        closePopup={closeImagePopup}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}