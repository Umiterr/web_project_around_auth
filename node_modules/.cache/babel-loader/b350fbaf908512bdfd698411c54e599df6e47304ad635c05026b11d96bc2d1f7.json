{"ast":null,"code":"class Api {\n  constructor({\n    baseUrl,\n    groupId\n  }) {\n    this.baseUrl = baseUrl;\n    this.groupId = groupId;\n  }\n  async _fetchApi(method, path = \"\", body = undefined) {\n    const response = await fetch(`${this.baseUrl}/${this.groupId}/${path}`, {\n      method,\n      headers: {\n        authorization: `9731b001-57b1-4a17-816b-941eccd0a24a`,\n        \"Content-Type\": body ? \"application/json\" : undefined\n      },\n      body: body ? JSON.stringify(body) : undefined\n    });\n    if (!response.ok) {\n      return Promise.reject(`Error: ${response.status}`);\n    }\n    const json = await response.json();\n    return json;\n  }\n  getInitialCards() {\n    return this._fetchApi(\"GET\", \"/cards\");\n  }\n  getUserInfo() {\n    return this._fetchApi(\"GET\", \"users/me\");\n  }\n  setUserInfo({\n    name,\n    about\n  }) {\n    return this._fetchApi(\"PATCH\", \"users/me\", {\n      name,\n      about\n    });\n  }\n  setUserImage(imageURL) {\n    return this._fetchApi(\"PATCH\", \"users/me/avatar\", {\n      avatar: imageURL\n    });\n  }\n  setNewCard({\n    title,\n    imageURL\n  }) {\n    return this._fetchApi(\"POST\", \"cards\", {\n      name: title,\n      link: imageURL\n    });\n  }\n  deleteCard(cardId) {\n    return this._fetchApi(\"DELETE\", `cards/${cardId}`);\n  }\n  setLike(cardId) {\n    return this._fetchApi(\"PUT\", `cards/likes/${cardId}`);\n  }\n  removeLike(cardId) {\n    return this._fetchApi(\"DELETE\", `cards/likes/${cardId}`);\n  }\n}\nconst api = new Api({\n  groupId: \"web_es_09\",\n  baseUrl: \"https://around.nomoreparties.co/v1\"\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","baseUrl","groupId","_fetchApi","method","path","body","undefined","response","fetch","headers","authorization","JSON","stringify","ok","Promise","reject","status","json","getInitialCards","getUserInfo","setUserInfo","name","about","setUserImage","imageURL","avatar","setNewCard","title","link","deleteCard","cardId","setLike","removeLike","api"],"sources":["/Users/umiter/Desktop/TripleTen/Sprint 15/web_project_around_auth/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, groupId }) {\n    this.baseUrl = baseUrl;\n    this.groupId = groupId;\n  }\n\n  async _fetchApi(method, path = \"\", body = undefined) {\n    const response = await fetch(`${this.baseUrl}/${this.groupId}/${path}`, {\n      method,\n      headers: {\n        authorization: `9731b001-57b1-4a17-816b-941eccd0a24a`,\n        \"Content-Type\": body ? \"application/json\" : undefined,\n      },\n      body: body ? JSON.stringify(body) : undefined,\n    });\n    if (!response.ok) {\n      return Promise.reject(`Error: ${response.status}`);\n    }\n    const json = await response.json();\n    return json;\n  }\n\n  getInitialCards() {\n    return this._fetchApi(\"GET\", \"/cards\");\n  }\n\n  getUserInfo() {\n    return this._fetchApi(\"GET\", \"users/me\");\n  }\n\n  setUserInfo({ name, about }) {\n    return this._fetchApi(\"PATCH\", \"users/me\", { name, about });\n  }\n\n  setUserImage(imageURL) {\n    return this._fetchApi(\"PATCH\", \"users/me/avatar\", { avatar: imageURL });\n  }\n\n  setNewCard({ title, imageURL }) {\n    return this._fetchApi(\"POST\", \"cards\", {\n      name: title,\n      link: imageURL,\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._fetchApi(\"DELETE\", `cards/${cardId}`);\n  }\n\n  setLike(cardId) {\n    return this._fetchApi(\"PUT\", `cards/likes/${cardId}`);\n  }\n\n  removeLike(cardId) {\n    return this._fetchApi(\"DELETE\", `cards/likes/${cardId}`);\n  }\n}\n\nconst api = new Api({\n  groupId: \"web_es_09\",\n  baseUrl: \"https://around.nomoreparties.co/v1\",\n});\n\nexport default api;\n"],"mappings":"AAAA,MAAMA,GAAG,CAAC;EACRC,WAAWA,CAAC;IAAEC,OAAO;IAAEC;EAAQ,CAAC,EAAE;IAChC,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,OAAO,GAAGA,OAAO;EACxB;EAEA,MAAMC,SAASA,CAACC,MAAM,EAAEC,IAAI,GAAG,EAAE,EAAEC,IAAI,GAAGC,SAAS,EAAE;IACnD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAE,IAAI,CAACR,OAAQ,IAAG,IAAI,CAACC,OAAQ,IAAGG,IAAK,EAAC,EAAE;MACtED,MAAM;MACNM,OAAO,EAAE;QACPC,aAAa,EAAG,sCAAqC;QACrD,cAAc,EAAEL,IAAI,GAAG,kBAAkB,GAAGC;MAC9C,CAAC;MACDD,IAAI,EAAEA,IAAI,GAAGM,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC,GAAGC;IACtC,CAAC,CAAC;IACF,IAAI,CAACC,QAAQ,CAACM,EAAE,EAAE;MAChB,OAAOC,OAAO,CAACC,MAAM,CAAE,UAASR,QAAQ,CAACS,MAAO,EAAC,CAAC;IACpD;IACA,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACU,IAAI,CAAC,CAAC;IAClC,OAAOA,IAAI;EACb;EAEAC,eAAeA,CAAA,EAAG;IAChB,OAAO,IAAI,CAAChB,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC;EACxC;EAEAiB,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACjB,SAAS,CAAC,KAAK,EAAE,UAAU,CAAC;EAC1C;EAEAkB,WAAWA,CAAC;IAAEC,IAAI;IAAEC;EAAM,CAAC,EAAE;IAC3B,OAAO,IAAI,CAACpB,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE;MAAEmB,IAAI;MAAEC;IAAM,CAAC,CAAC;EAC7D;EAEAC,YAAYA,CAACC,QAAQ,EAAE;IACrB,OAAO,IAAI,CAACtB,SAAS,CAAC,OAAO,EAAE,iBAAiB,EAAE;MAAEuB,MAAM,EAAED;IAAS,CAAC,CAAC;EACzE;EAEAE,UAAUA,CAAC;IAAEC,KAAK;IAAEH;EAAS,CAAC,EAAE;IAC9B,OAAO,IAAI,CAACtB,SAAS,CAAC,MAAM,EAAE,OAAO,EAAE;MACrCmB,IAAI,EAAEM,KAAK;MACXC,IAAI,EAAEJ;IACR,CAAC,CAAC;EACJ;EAEAK,UAAUA,CAACC,MAAM,EAAE;IACjB,OAAO,IAAI,CAAC5B,SAAS,CAAC,QAAQ,EAAG,SAAQ4B,MAAO,EAAC,CAAC;EACpD;EAEAC,OAAOA,CAACD,MAAM,EAAE;IACd,OAAO,IAAI,CAAC5B,SAAS,CAAC,KAAK,EAAG,eAAc4B,MAAO,EAAC,CAAC;EACvD;EAEAE,UAAUA,CAACF,MAAM,EAAE;IACjB,OAAO,IAAI,CAAC5B,SAAS,CAAC,QAAQ,EAAG,eAAc4B,MAAO,EAAC,CAAC;EAC1D;AACF;AAEA,MAAMG,GAAG,GAAG,IAAInC,GAAG,CAAC;EAClBG,OAAO,EAAE,WAAW;EACpBD,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,eAAeiC,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}