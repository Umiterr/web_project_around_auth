{"ast":null,"code":"import{useEffect,useState}from\"react\";import api from\"../../utils/api\";import filledHeartIcon from\"../../images/UI/Heart-Black.svg\";import emptyHeartIcon from\"../../images/UI/Heart-White.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function LikeButton(_ref){let{cardId,likes,alreadyLiked}=_ref;const[isLiked,setIsLiked]=useState(alreadyLiked);useEffect(()=>{setIsLiked(alreadyLiked);},[alreadyLiked]);async function like(){try{if(isLiked){await api.removeLike(cardId);}else{await api.setLike(cardId);}setIsLiked(!isLiked);}catch(error){console.error(\"Error al manejar el like:\",error);}}return/*#__PURE__*/_jsxs(\"button\",{className:\"feed__heart-button\",onClick:like,children:[/*#__PURE__*/_jsx(\"img\",{className:\"feed__heart-image\",id:\"feed__heart-image\",alt:isLiked?\"Coraz贸n con me gusta\":\"Coraz贸n sin me gusta\",src:isLiked?filledHeartIcon:emptyHeartIcon}),/*#__PURE__*/_jsx(\"span\",{className:\"feed__heart-likes\",children:likes.length-alreadyLiked+isLiked})]});}","map":{"version":3,"names":["useEffect","useState","api","filledHeartIcon","emptyHeartIcon","jsx","_jsx","jsxs","_jsxs","LikeButton","_ref","cardId","likes","alreadyLiked","isLiked","setIsLiked","like","removeLike","setLike","error","console","className","onClick","children","id","alt","src","length"],"sources":["/Users/umiter/Desktop/TripleTen/Sprint 15/web_project_around_auth/src/components/Card/LikeButton.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport api from \"../../utils/api\";\nimport filledHeartIcon from \"../../images/UI/Heart-Black.svg\";\nimport emptyHeartIcon from \"../../images/UI/Heart-White.svg\";\n\nexport function LikeButton({ cardId, likes, alreadyLiked }) {\n  const [isLiked, setIsLiked] = useState(alreadyLiked);\n\n  useEffect(() => {\n    setIsLiked(alreadyLiked);\n  }, [alreadyLiked]);\n\n  async function like() {\n    try {\n      if (isLiked) {\n        await api.removeLike(cardId);\n      } else {\n        await api.setLike(cardId);\n      }\n\n      setIsLiked(!isLiked);\n    } catch (error) {\n      console.error(\"Error al manejar el like:\", error);\n    }\n  }\n\n  return (\n    <button className=\"feed__heart-button\" onClick={like}>\n      <img\n        className=\"feed__heart-image\"\n        id=\"feed__heart-image\"\n        alt={isLiked ? \"Coraz贸n con me gusta\" : \"Coraz贸n sin me gusta\"}\n        src={isLiked ? filledHeartIcon : emptyHeartIcon}\n      />\n      <span className=\"feed__heart-likes\">\n        {likes.length - alreadyLiked + isLiked}\n      </span>\n    </button>\n  );\n}\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,MAAO,CAAAC,eAAe,KAAM,iCAAiC,CAC7D,MAAO,CAAAC,cAAc,KAAM,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7D,MAAO,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAkC,IAAjC,CAAEC,MAAM,CAAEC,KAAK,CAAEC,YAAa,CAAC,CAAAH,IAAA,CACxD,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAACY,YAAY,CAAC,CAEpDb,SAAS,CAAC,IAAM,CACde,UAAU,CAACF,YAAY,CAAC,CAC1B,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,cAAe,CAAAG,IAAIA,CAAA,CAAG,CACpB,GAAI,CACF,GAAIF,OAAO,CAAE,CACX,KAAM,CAAAZ,GAAG,CAACe,UAAU,CAACN,MAAM,CAAC,CAC9B,CAAC,IAAM,CACL,KAAM,CAAAT,GAAG,CAACgB,OAAO,CAACP,MAAM,CAAC,CAC3B,CAEAI,UAAU,CAAC,CAACD,OAAO,CAAC,CACtB,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CAEA,mBACEX,KAAA,WAAQa,SAAS,CAAC,oBAAoB,CAACC,OAAO,CAAEN,IAAK,CAAAO,QAAA,eACnDjB,IAAA,QACEe,SAAS,CAAC,mBAAmB,CAC7BG,EAAE,CAAC,mBAAmB,CACtBC,GAAG,CAAEX,OAAO,CAAG,sBAAsB,CAAG,sBAAuB,CAC/DY,GAAG,CAAEZ,OAAO,CAAGX,eAAe,CAAGC,cAAe,CACjD,CAAC,cACFE,IAAA,SAAMe,SAAS,CAAC,mBAAmB,CAAAE,QAAA,CAChCX,KAAK,CAACe,MAAM,CAAGd,YAAY,CAAGC,OAAO,CAClC,CAAC,EACD,CAAC,CAEb"},"metadata":{},"sourceType":"module","externalDependencies":[]}